var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(t){let e;return i(t,t=>e=t)(),e}function a(t,e,n){t.$$.on_destroy.push(i(e,n))}function u(t,e,n,o){if(t){const r=d(t,e,n,o);return t[0](r)}}function d(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function b(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function f(t){return null==t?"":t}function m(t,e,n=e){return t.set(n),e}const h="undefined"!=typeof window;let p=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const v=new Set;function $(t){v.forEach(e=>{e.c(t)||(v.delete(e),e.f())}),0!==v.size&&g($)}function w(t){let e;return 0===v.size&&g($),{promise:new Promise(n=>{v.add(e={c:t,f:n})}),abort(){v.delete(e)}}}function y(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function K(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function E(){return C(" ")}function I(){return C("")}function T(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t){return function(e){return e.preventDefault(),t.call(this,e)}}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function B(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e){(null!=e||t.value)&&(t.value=e)}function D(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function G(t,e,n){t.classList[n?"add":"remove"](e)}function F(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const S=new Set;let j,R=0;function O(t,e,n,o,r,l,s,i=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*l(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,b=t.ownerDocument;S.add(b);const f=b.__svelte_stylesheet||(b.__svelte_stylesheet=b.head.appendChild(k("style")).sheet),m=b.__svelte_rules||(b.__svelte_rules={});m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${o}ms linear ${r}ms 1 both`,R+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),R-=r,R||g(()=>{R||(S.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),S.clear())}))}function L(t){j=t}function P(){if(!j)throw new Error("Function called outside component initialization");return j}function H(){const t=P();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=F(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const W=[],q=[],U=[],Y=[],X=Promise.resolve();let V=!1;function J(){V||(V=!0,X.then(nt))}function Q(t){U.push(t)}function Z(t){Y.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<W.length;t+=1){const e=W[t];L(e),ot(e.$$)}for(W.length=0;q.length;)q.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];et.has(e)||(et.add(e),e())}U.length=0}while(W.length);for(;Y.length;)Y.pop()();V=!1,tt=!1,et.clear()}}function ot(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}let rt;function lt(){return rt||(rt=Promise.resolve(),rt.then(()=>{rt=null})),rt}function st(t,e,n){t.dispatchEvent(F(`${e?"intro":"outro"}${n}`))}const it=new Set;let ct;function at(){ct={r:0,c:[],p:ct}}function ut(){ct.r||r(ct.c),ct=ct.p}function dt(t,e){t&&t.i&&(it.delete(t),t.i(e))}function bt(t,e,n,o){if(t&&t.o){if(it.has(t))return;it.add(t),ct.c.push(()=>{it.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const ft={duration:0};function mt(n,o,s,i){let c=o(n,s),a=i?0:1,u=null,d=null,b=null;function f(){b&&N(n,b)}function m(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(o){const{delay:l=0,duration:s=300,easing:i=e,tick:h=t,css:g}=c||ft,v={start:p()+l,b:o};o||(v.group=ct,ct.r+=1),u?d=v:(g&&(f(),b=O(n,a,o,s,l,i,g)),o&&h(0,1),u=m(v,s),Q(()=>st(n,o,"start")),w(t=>{if(d&&t>d.start&&(u=m(d,s),d=null,st(n,u.b,"start"),g&&(f(),b=O(n,a,u.b,u.duration,0,i,c.css))),u)if(t>=u.end)h(a=u.b,1-a),st(n,u.b,"end"),d||(u.b?f():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*i(e/u.duration),h(a,1-a)}return!(!u&&!d)}))}return{run(t){l(c)?lt().then(()=>{c=c(),h(t)}):h(t)},end(){f(),u=d=null}}}function ht(t,e){t.d(1),e.delete(t.key)}function pt(t,e,n,o,r,l,s,i,c,a,u,d){let b=t.length,f=l.length,m=b;const h={};for(;m--;)h[t[m].key]=m;const p=[],g=new Map,v=new Map;for(m=f;m--;){const t=d(r,l,m),i=n(t);let c=s.get(i);c?o&&c.p(t,e):(c=a(i,t),c.c()),g.set(i,p[m]=c),i in h&&v.set(i,Math.abs(m-h[i]))}const $=new Set,w=new Set;function y(t){dt(t,1),t.m(i,u,s.has(t.key)),s.set(t.key,t),u=t.first,f--}for(;b&&f;){const e=p[f-1],n=t[b-1],o=e.key,r=n.key;e===n?(u=e.first,b--,f--):g.has(r)?!s.has(o)||$.has(o)?y(e):w.has(r)?b--:v.get(o)>v.get(r)?(w.add(o),y(e)):($.add(r),b--):(c(n,s),b--)}for(;b--;){const e=t[b];g.has(e.key)||c(e,s)}for(;f;)y(p[f-1]);return p}function gt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function vt(t){t&&t.c()}function $t(t,e,o){const{fragment:s,on_mount:i,on_destroy:c,after_update:a}=t.$$;s&&s.m(e,o),Q(()=>{const e=i.map(n).filter(l);c?c.push(...e):r(e),t.$$.on_mount=[]}),a.forEach(Q)}function wt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(e,n,l,s,i,c,a=[-1]){const u=j;L(e);const d=n.props||{},b=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a};let f=!1;if(b.ctx=l?l(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return b.ctx&&i(b.ctx[t],b.ctx[t]=r)&&(b.bound[t]&&b.bound[t](r),f&&function(t,e){-1===t.$$.dirty[0]&&(W.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],b.update(),f=!0,r(b.before_update),b.fragment=!!s&&s(b.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);b.fragment&&b.fragment.l(t),t.forEach(K)}else b.fragment&&b.fragment.c();n.intro&&dt(e.$$.fragment),$t(e,n.target,n.anchor),nt()}L(u)}class At{$destroy(){wt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function Kt(t){const e=t-1;return e*e*e+1}function xt(t,{delay:n=0,duration:o=400,easing:r=e}){const l=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*l}}function kt(t,{delay:e=0,duration:n=400,easing:o=Kt,x:r=0,y:l=0,opacity:s=0}){const i=getComputedStyle(t),c=+i.opacity,a="none"===i.transform?"":i.transform,u=c*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*l}px);\n\t\t\topacity: ${c-u*e}`}}function Ct(t,{delay:e=0,duration:n=400,easing:o=Kt}){const r=getComputedStyle(t),l=+r.opacity,s=parseFloat(r.height),i=parseFloat(r.paddingTop),c=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),b=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*l};height: ${t*s}px;padding-top: ${t*i}px;padding-bottom: ${t*c}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*d}px;border-bottom-width: ${t*b}px;`}}const Et=[];function It(e,n=t){let o;const r=[];function l(t){if(s(e,t)&&(e=t,o)){const t=!Et.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Et.push(n,e)}if(t){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,i=t){const c=[s,i];return r.push(c),1===r.length&&(o=n(l)||t),s(e),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Mt{constructor(t=0,e=!1){this.facing=t,this.locked=e}flip(){this.facing=(this.facing+1)%2}handleMarble(t){return 2*this.facing-1}get name(){return this.constructor.name}get requiresSlot(){return this.constructor.requiresSlot}get stopsMarble(){return this.constructor.stopsMarble}get flipsOnMarble(){return this.constructor.flipsOnMarble}get flipsNeighbors(){return this.constructor.flipsNeighbors}}_t(Mt,"requiresSlot",!0);class Bt extends Mt{constructor(t=0,e=!1){super(0,e)}flip(){}}class zt extends Mt{}_t(zt,"name","ramp"),_t(zt,"code",[52,53]);class Dt extends Mt{}_t(Dt,"name","bit"),_t(Dt,"code",[54,55]),_t(Dt,"flipsOnMarble",!0);class Gt extends Mt{}_t(Gt,"name","gearbit"),_t(Gt,"code",[56,57]),_t(Gt,"flipsOnMarble",!0),_t(Gt,"flipsNeighbors",!0);class Ft extends Bt{handleMarble(t){return t}}_t(Ft,"name","crossover"),_t(Ft,"code",[58]);class St extends Bt{}_t(St,"name","interceptor"),_t(St,"code",[59]),_t(St,"stopsMarble",!0);class jt extends Mt{handleMarble(t){return!1}}_t(jt,"requiresSlot",!1),_t(jt,"name","gear"),_t(jt,"code",[60,61]),_t(jt,"flipsNeighbors",!0);const Rt=[zt,Dt,Ft,St,Gt,jt],Ot=It(Rt);Ot.encode=function(){return c(this).filter(t=>void 0!==t.count&&t.count>=0&&t.count<=50).map(t=>Tt[t.code[0]]+Tt[t.count]).join("")},Ot.decode=function(t){this.update(e=>(e.forEach(e=>{if(t){let n=t.indexOf(Tt[e.code[0]]);n>0&&n+1<t.length?e.count=Tt.indexOf(t[n+1]):e.count=1/0}else e.count=1/0}),e))};class Nt extends Array{constructor(t){super(...t)}async startRun(t,e="left",n=(()=>{})){if(this.marble)return!1;let o;for(this.marble=t,this.position={x:"left"===e?3:7,y:-1},this.direction="left"===e?1:-1,await n(),this.position.y++,await n();this.marble&&this.tick();)if(11===this.position.y?o={marble:this.marble,side:this.direction>0?"right":"left"}:10===this.position.y&&5!=this.position.x?o={marble:this.marble,side:this.position.x>5?"right":"left"}:await n(),o)return this.marble=!1,o;return!1}tick(){if(this.marble){let t=!1,e=this[this.position.y][this.position.x];if(e){if(e.stopsMarble)return!1;t=e.handleMarble(this.direction),e.flipsOnMarble&&this.flip(this.position.x,this.position.y),t&&(this.position={x:this.position.x+t,y:this.position.y+1}),this.position.x<0&&this.position.x>this[0].length&&(t=!1)}if(!1===t)throw this.marble=!1,this.position=!1,`Marble has escaped at ${this.position.x}, ${this.position.y}!`;return this.direction=t,!0}}at(t,e){return t>=0&&t<this[0].length&&e>=0&&e<this.length&&this[e][t]}isValid(t,e){return(0!==e||!(t<2||t>8||5===t))&&((1!==e||0!==t&&10!==t)&&(10!==e||5==t))}hasSlot(t,e){return Boolean((t+e)%2)}flipableNeighbors(t,e){let n=this.at(t,e),o=new Set;if(n&&(o.add(n),n.flipsNeighbors)){const n=(t,e)=>{let r=[[1,0],[-1,0],[0,1],[0,-1]].map(n=>[n[0]+t,n[1]+e]).filter(t=>{let e=this.at(...t);return e&&e.flipsNeighbors&&!o.has(e)});r.forEach(t=>o.add(this.at(...t))),r.forEach(t=>n(...t))};n(t,e)}return o}flip(t,e){this.flipableNeighbors(t,e).forEach(t=>t.flip())}encode(){let t="";return this.forEach(e=>{for(let n=0;n<e.length;n++)if(e[n])t+=Tt[e[n].constructor.code[e[n].facing]],e[n].locked&&(t+=Tt[62]);else{let o=e.slice(n+1),r=o.findIndex(t=>t);r<0&&(r=o.length),t+=Tt[r],n+=r}}),t}static create(t=null){let e=[...Array(11)];if(t){if(!/^[a-zA-Z0-9-_]*$/.test(t))throw"Code is not base64 url encoded!";if(t.length<11)throw"Code is too short!";{let n=0,o=!1;62==Tt.indexOf(t[0])&&(o=!0,n=1),e=e.map(()=>{let e=[];for(;e.length<11&&n<t.length;){let r=Tt.indexOf(t[n]);if(r<11)e.push(...Array(r+1));else{let l=Rt.find(t=>t.code.includes(r));if(!l)throw"Invalid code! "+r+" @ position "+n;{let s=n+1<t.length&&t[n+1]===Tt[62];e.push(new l(l.code.indexOf(r),o||s)),s&&n++}}n++}return e})}}else e=e.map(()=>Array(11));return new Nt(e)}}const Lt=It(Nt.create());Lt.encode=function(){return c(this).encode()},Lt.decode=function(t){try{this.set(Nt.create(t))}catch(t){console.log(t),console.log("Initializing empty board"),this.set(Nt.create())}};const Pt=It(!1),Ht=It(!1),Wt=It(!1),qt=It(!1),Ut=It(window.location.pathname.endsWith("room/")||window.location.pathname.endsWith("about/")?"../":"./");function Yt(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Xt(e){let n,o,r;return{c(){n=k("img"),n.src!==(o=e[3]+"images/marble"+e[4].color+".svg")&&M(n,"src",o),M(n,"alt",r=e[4].color+" marble"),M(n,"class","svelte-926an8")},m(t,e){A(t,n,e)},p(t,e){9&e&&n.src!==(o=t[3]+"images/marble"+t[4].color+".svg")&&M(n,"src",o),1&e&&r!==(r=t[4].color+" marble")&&M(n,"alt",r)},i:t,o:t,d(t){t&&K(n)}}}function Vt(n){let o,r,s,i;return{c(){o=k("img"),o.src!==(r=n[3]+"images/marble"+n[4].color+".svg")&&M(o,"src",r),M(o,"alt",s=n[4].color+" marble"),M(o,"class","svelte-926an8")},m(t,e){A(t,o,e)},p(t,e){9&e&&o.src!==(r=t[3]+"images/marble"+t[4].color+".svg")&&M(o,"src",r),1&e&&s!==(s=t[4].color+" marble")&&M(o,"alt",s)},i(n){i||Q(()=>{i=function(n,o,r){let s,i,c=o(n,r),a=!1,u=0;function d(){s&&N(n,s)}function b(){const{delay:o=0,duration:r=300,easing:l=e,tick:b=t,css:f}=c||ft;f&&(s=O(n,0,1,r,o,l,f,u++)),b(0,1);const m=p()+o,h=m+r;i&&i.abort(),a=!0,Q(()=>st(n,!0,"start")),i=w(t=>{if(a){if(t>=h)return b(1,0),st(n,!0,"end"),d(),a=!1;if(t>=m){const e=l((t-m)/r);b(e,1-e)}}return a})}let f=!1;return{start(){f||(N(n),l(c)?(c=c(),lt().then(b)):b())},invalidate(){f=!1},end(){a&&(d(),a=!1)}}}(o,kt,{x:-200,duration:600}),i.start()})},o:t,d(t){t&&K(o)}}}function Jt(e,n){let o,r;function l(t,e){return t[2]?Vt:Xt}let s=l(n),i=s(n);return{key:e,first:null,c(){o=I(),i.c(),r=I(),this.first=o},m(t,e){A(t,o,e),i.m(t,e),A(t,r,e)},p(t,e){s===(s=l(t))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),dt(i,1),i.m(r.parentNode,r)))},i(t){dt(i)},o:t,d(t){t&&K(o),i.d(t),t&&K(r)}}}function Qt(e){let n,o=[],r=new Map,l=e[0];const s=t=>t[6];for(let t=0;t<l.length;t+=1){let n=Yt(e,l,t),i=s(n);r.set(i,o[t]=Jt(i,n))}return{c(){n=k("div");for(let t=0;t<o.length;t+=1)o[t].c();M(n,"id","marble-tray"),M(n,"class","svelte-926an8"),G(n,"right","right"===e[1])},m(t,e){A(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(13&e){const l=t[0];o=pt(o,e,s,1,t,l,r,n,ht,Jt,null,Yt)}2&e&&G(n,"right","right"===t[1])},i(t){for(let t=0;t<l.length;t+=1)dt(o[t])},o:t,d(t){t&&K(n);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Zt(t,e,n){let o;a(t,Ut,t=>n(3,o=t));let{marbles:r=[]}=e,{direction:l="left"}=e,{result:s=!1}=e;return t.$set=t=>{"marbles"in t&&n(0,r=t.marbles),"direction"in t&&n(1,l=t.direction),"result"in t&&n(2,s=t.result)},[r,l,s,o]}Ut.update=function(){this.set(window.location.pathname.endsWith("room/")||window.location.pathname.endsWith("room")||window.location.pathname.endsWith("about/")||window.location.pathname.endsWith("about")||window.location.pathname.endsWith("about/index.html")?"../":"./")};class te extends At{constructor(t){super(),yt(this,t,Zt,Qt,s,{marbles:0,direction:1,result:2})}}function ee(t){let e,n,o,l,s,i,c,a,f,m,h,p;const g=t[5].default,v=u(g,t,t[4],null);return{c(){e=k("div"),n=k("div"),o=k("header"),l=k("h2"),s=C(t[1]),i=E(),c=k("button"),c.textContent="X",a=E(),v&&v.c(),M(l,"class","svelte-1sswz57"),M(c,"class","close-modal svelte-1sswz57"),M(o,"class","svelte-1sswz57"),M(n,"class","modal svelte-1sswz57"),M(e,"class","cover svelte-1sswz57"),G(e,"fading",!t[0])},m(u,d,b){var f;A(u,e,d),y(e,n),y(n,o),y(o,l),y(l,s),y(o,i),y(o,c),y(n,a),v&&v.m(n,null),h=!0,b&&r(p),p=[T(c,"click",t[2]),T(e,"click",(f=_(t[2]),function(t){t.target===this&&f.call(this,t)}))]},p(t,n){(!h||2&n)&&B(s,t[1]),v&&v.p&&16&n&&v.p(d(g,t,t[4],null),b(g,t[4],n,null)),1&n&&G(e,"fading",!t[0])},i(t){h||(dt(v,t),Q(()=>{f||(f=mt(n,kt,{y:-300,duration:600},!0)),f.run(1)}),Q(()=>{m||(m=mt(e,xt,{},!0)),m.run(1)}),h=!0)},o(t){bt(v,t),f||(f=mt(n,kt,{y:-300,duration:600},!1)),f.run(0),m||(m=mt(e,xt,{},!1)),m.run(0),h=!1},d(t){t&&K(e),v&&v.d(t),t&&f&&f.end(),t&&m&&m.end(),r(p)}}}function ne(t){let e,n,o=t[0]&&ee(t);return{c(){o&&o.c(),e=I()},m(t,r){o&&o.m(t,r),A(t,e,r),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),dt(o,1)):(o=ee(t),o.c(),dt(o,1),o.m(e.parentNode,e)):o&&(at(),bt(o,1,1,()=>{o=null}),ut())},i(t){n||(dt(o),n=!0)},o(t){bt(o),n=!1},d(t){o&&o.d(t),t&&K(e)}}}function oe(t,e,n){let{visible:o=!1}=e,{title:r="Modal"}=e;const l=H();let{$$slots:s={},$$scope:i}=e;return t.$set=t=>{"visible"in t&&n(0,o=t.visible),"title"in t&&n(1,r=t.title),"$$scope"in t&&n(4,i=t.$$scope)},[o,r,function(){n(0,o=!1),l("close")},l,i,s]}class re extends At{constructor(t){super(),yt(this,t,oe,ne,s,{visible:0,title:1})}}function le(e){let n,o,r;return{c(){n=k("div"),o=k("button"),o.innerHTML='<span class="svelte-1t7zbiz">∞</span>',M(o,"class","infinity svelte-1t7zbiz"),M(n,"class","infinity-button")},m(t,l,s){A(t,n,l),y(n,o),s&&r(),r=T(o,"click",e[17])},p:t,d(t){t&&K(n),r()}}}function se(t){let e,n,o,l,s,i,c,a,f,m,h,p,g,v,$,w,x;const C=t[14].default,I=u(C,t,t[19],null);let B=t[1]&&le(t);return{c(){e=k("div"),n=k("div"),I&&I.c(),o=E(),l=k("div"),s=k("div"),i=k("button"),i.textContent="-",c=k("form"),a=k("input"),f=k("button"),f.textContent="+",m=E(),B&&B.c(),h=E(),p=k("div"),g=k("button"),g.textContent="OK",v=E(),$=k("button"),$.textContent="Cancel",M(i,"class","decrease svelte-1t7zbiz"),M(a,"maxlength","2"),M(a,"type","text"),M(a,"class","svelte-1t7zbiz"),G(a,"infinity","∞"===t[3]),M(c,"class","svelte-1t7zbiz"),M(f,"class","increase svelte-1t7zbiz"),M(s,"class","number-input svelte-1t7zbiz"),M(e,"class","container svelte-1t7zbiz"),M(p,"class","confirm svelte-1t7zbiz")},m(u,d,b){A(u,e,d),y(e,n),I&&I.m(n,null),y(e,o),y(e,l),y(l,s),y(s,i),y(s,c),y(c,a),z(a,t[3]),t[16](a),y(s,f),y(l,m),B&&B.m(l,null),A(u,h,d),A(u,p,d),y(p,g),y(p,v),y(p,$),w=!0,b&&r(x),x=[T(i,"click",t[6]),T(a,"input",t[15]),T(a,"input",t[8]),T(a,"beforeinput",t[7]),T(c,"submit",_(t[10])),T(f,"click",_(t[5])),T(g,"click",t[10]),T($,"click",t[9])]},p(t,e){I&&I.p&&524288&e&&I.p(d(C,t,t[19],null),b(C,t[19],e,null)),8&e&&a.value!==t[3]&&z(a,t[3]),8&e&&G(a,"infinity","∞"===t[3]),t[1]?B?B.p(t,e):(B=le(t),B.c(),B.m(l,null)):B&&(B.d(1),B=null)},i(t){w||(dt(I,t),w=!0)},o(t){bt(I,t),w=!1},d(n){n&&K(e),I&&I.d(n),t[16](null),B&&B.d(),n&&K(h),n&&K(p),r(x)}}}function ie(t){let e,n;function o(e){t[18].call(null,e)}let r={title:t[2],$$slots:{default:[se]},$$scope:{ctx:t}};void 0!==t[0]&&(r.visible=t[0]);const l=new re({props:r});return q.push(()=>gt(l,"visible",o)),{c(){vt(l.$$.fragment)},m(t,e){$t(l,t,e),n=!0},p(t,[n]){const o={};4&n&&(o.title=t[2]),524314&n&&(o.$$scope={dirty:n,ctx:t}),!e&&1&n&&(e=!0,o.visible=t[0],Z(()=>e=!1)),l.$set(o)},i(t){n||(dt(l.$$.fragment,t),n=!0)},o(t){bt(l.$$.fragment,t),n=!1},d(t){wt(l,t)}}}function ce(t,e,n){let o,r,{number:l=0}=e,{max:s=50}=e,{infinity:i=!0}=e,{title:c}=e,{visible:a=!1}=e;const u=H();let{$$slots:d={},$$scope:b}=e;return t.$set=t=>{"number"in t&&n(11,l=t.number),"max"in t&&n(12,s=t.max),"infinity"in t&&n(1,i=t.infinity),"title"in t&&n(2,c=t.title),"visible"in t&&n(0,a=t.visible),"$$scope"in t&&n(19,b=t.$$scope)},t.$$.update=()=>{2048&t.$$.dirty&&n(3,o=l===1/0?"∞":l)},[a,i,c,o,r,function(){"∞"!==o&&parseInt(o)<s?n(3,o=parseInt(o)+1):n(3,o=i?"∞":s)},function(){n(3,o="∞"!==o?Math.max(0,parseInt(o)-1):s)},function(t){if(null!==t.data){""===t.data.replace(/[^0-9]/,"")&&t.preventDefault(),"∞"===o&&n(3,o="")}},function(t){""===o&&n(3,o="0"),n(3,o=Math.max(0,parseInt(o))),o>s&&n(3,o=i?"∞":s)},function(){n(0,a=!1),n(3,o=l)},function(){u("update","∞"===o?1/0:parseInt(o)),n(0,a=!1)},l,s,u,d,function(){o=this.value,n(3,o),n(11,l)},function(t){q[t?"unshift":"push"](()=>{n(4,r=t)})},()=>n(3,o="∞"),function(t){a=t,n(0,a)},b]}class ae extends At{constructor(t){super(),yt(this,t,ce,ie,s,{number:11,max:12,infinity:1,title:2,visible:0})}}class ue{constructor(){}get color(){return this.constructor.color}}class de extends ue{}_t(de,"color","blue");class be extends ue{}_t(be,"color","red");const fe=It({numbers:{left:8,right:8},edit:{}});function me(){return Lt.encode()+Tt[63]+fe.encode()+Ot.encode()}function he(t,e=!1){Lt.decode(t);let n=!1;t&&(n=2===t.split(Tt[63]).length&&t.split(Tt[63])[1]),Ot.decode(n),fe.decode(n)}fe.reset=function(t,e){Lt.update(t=>(t.marble&&(t.marble=!1,t.position=!1),t)),this.update(n=>(void 0!==t&&void 0!==e&&(n.numbers={left:t,right:e}),n.results=[],n.left=[...Array(n.numbers.left)].map(t=>new de),n.right=[...Array(n.numbers.right)].map(t=>new be),n))},fe.encode=function(){let t=c(this);return Tt[t.numbers.left]+Tt[t.numbers.right]},fe.decode=function(t){if(t){let e=Tt.indexOf(t[0]),n=Tt.indexOf(t[1]);e<=20&&n<=20&&this.reset(e,n)}else this.reset(8,8)},fe.reset();const pe=It(!1);function ge(t,e,n){const o=t.slice();return o[38]=e[n],o[40]=n,o}function ve(t,e,n){const o=t.slice();return o[35]=e[n],o[37]=n,o}function $e(t){let e,n;return{c(){e=k("img"),M(e,"class","marble svelte-11rckbw"),e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n),M(e,"alt","")},m(n,o){A(n,e,o),t[24](e)},p(t,o){144&o[0]&&e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n)},d(n){n&&K(e),t[24](null)}}}function we(t){let e,n;return{c(){e=k("img"),M(e,"class","marble svelte-11rckbw"),e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n),M(e,"alt","")},m(n,o){A(n,e,o),t[25](e)},p(t,o){144&o[0]&&e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n)},d(n){n&&K(e),t[25](null)}}}function ye(e){let n;return{c(){n=k("div"),M(n,"class","position blank svelte-11rckbw")},m(t,e){A(t,n,e)},p:t,d(t){t&&K(n)}}}function Ae(t){let e,n,o;function l(t,e){return t[38]?xe:((null==n||16&e[0])&&(n=!!t[9](t[40],t[37])),n?Ke:void 0)}let s=l(t,[-1]),i=s&&s(t);function c(...e){return t[28](t[40],t[37],...e)}function a(...e){return t[29](t[40],t[37],...e)}return{c(){e=k("div"),i&&i.c(),M(e,"class","position svelte-11rckbw"),G(e,"occupied",t[38]&&!t[38].locked),G(e,"empty",!t[38]),G(e,"slot",t[4].hasSlot(t[40],t[37]))},m(t,n,l){A(t,e,n),i&&i.m(e,null),l&&r(o),o=[T(e,"mousedown",c),T(e,"touchstart",a)]},p(n,o){s===(s=l(t=n,o))&&i?i.p(t,o):(i&&i.d(1),i=s&&s(t),i&&(i.c(),i.m(e,null))),16&o[0]&&G(e,"occupied",t[38]&&!t[38].locked),16&o[0]&&G(e,"empty",!t[38]),16&o[0]&&G(e,"slot",t[4].hasSlot(t[40],t[37]))},d(t){t&&K(e),i&&i.d(),r(o)}}}function Ke(t){let e,n;return{c(){e=k("img"),M(e,"class","marble svelte-11rckbw"),e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n),M(e,"alt",""),G(e,"right",!Math.floor((t[4].direction+1)/2))},m(n,o){A(n,e,o),t[27](e)},p(t,o){144&o[0]&&e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n),16&o[0]&&G(e,"right",!Math.floor((t[4].direction+1)/2))},d(n){n&&K(e),t[27](null)}}}function xe(t){let e,n,o,r,l,s,i,c=t[9](t[40],t[37]),a=c&&ke(t);return{c(){e=k("div"),n=k("div"),o=k("img"),s=E(),a&&a.c(),M(o,"class","part svelte-11rckbw"),o.src!==(r=t[7]+"images/"+t[38].name+".svg")&&M(o,"src",r),M(o,"alt",l=t[38].name),G(o,"locked",t[38].locked),M(n,"class","wrapper svelte-11rckbw"),G(n,"down",t[10](t[40],t[37])),G(n,"reset",t[2]),M(e,"class",i=f(t[38].name)+" svelte-11rckbw"),G(e,"flipped",t[38].facing),G(e,"right",t[11](t[40],t[37]))},m(t,r){A(t,e,r),y(e,n),y(n,o),y(n,s),a&&a.m(n,null)},p(t,s){144&s[0]&&o.src!==(r=t[7]+"images/"+t[38].name+".svg")&&M(o,"src",r),16&s[0]&&l!==(l=t[38].name)&&M(o,"alt",l),16&s[0]&&G(o,"locked",t[38].locked),16&s[0]&&(c=t[9](t[40],t[37])),c?a?a.p(t,s):(a=ke(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),1040&s[0]&&G(n,"down",t[10](t[40],t[37])),4&s[0]&&G(n,"reset",t[2]),16&s[0]&&i!==(i=f(t[38].name)+" svelte-11rckbw")&&M(e,"class",i),16&s[0]&&G(e,"flipped",t[38].facing),2064&s[0]&&G(e,"right",t[11](t[40],t[37]))},d(t){t&&K(e),a&&a.d()}}}function ke(t){let e,n;return{c(){e=k("img"),M(e,"class","marble svelte-11rckbw"),e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n),M(e,"alt","")},m(n,o){A(n,e,o),t[26](e)},p(t,o){144&o[0]&&e.src!==(n=t[7]+"images/marble"+t[4].marble.color+".svg")&&M(e,"src",n)},d(n){n&&K(e),t[26](null)}}}function Ce(t,e){let n,o,r;function l(t,e){return(null==o||16&e[0])&&(o=!!t[4].isValid(t[40],t[37])),o?Ae:ye}let s=l(e,[-1]),i=s(e);return{key:t,first:null,c(){n=I(),i.c(),r=I(),this.first=n},m(t,e){A(t,n,e),i.m(t,e),A(t,r,e)},p(t,e){s===(s=l(t,e))&&i?i.p(t,e):(i.d(1),i=s(t),i&&(i.c(),i.m(r.parentNode,r)))},d(t){t&&K(n),i.d(t),t&&K(r)}}}function Ee(t,e){let n,o,r=[],l=new Map,s=e[35];const i=t=>t[40];for(let t=0;t<s.length;t+=1){let n=ge(e,s,t),o=i(n);l.set(o,r[t]=Ce(o,n))}return{key:t,first:null,c(){n=k("div");for(let t=0;t<r.length;t+=1)r[t].c();o=E(),M(n,"class","row svelte-11rckbw"),this.first=n},m(t,e){A(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null);y(n,o)},p(t,e){if(3990&e[0]){const s=t[35];r=pt(r,e,i,1,t,s,l,n,ht,Ce,o,ge)}},d(t){t&&K(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Ie(t){let e,n;return{c(){e=k("img"),M(e,"class","modal-image svelte-11rckbw"),e.src!==(n=t[7]+"images/marbleblue.svg")&&M(e,"src",n),M(e,"alt","Blue Marble")},m(t,n){A(t,e,n)},p(t,o){128&o[0]&&e.src!==(n=t[7]+"images/marbleblue.svg")&&M(e,"src",n)},d(t){t&&K(e)}}}function Te(t){let e,n;return{c(){e=k("img"),M(e,"class","modal-image svelte-11rckbw"),e.src!==(n=t[7]+"images/marblered.svg")&&M(e,"src",n),M(e,"alt","Red Marble")},m(t,n){A(t,e,n)},p(t,o){128&o[0]&&e.src!==(n=t[7]+"images/marblered.svg")&&M(e,"src",n)},d(t){t&&K(e)}}}function _e(t){let e,n,o,l,s,i,c,a,u,d,b,f,m,h,p,g,v,$,w,x,I,_,z,D,F,S,j,R,O,N,L,P,H,W,U,Y,X,V,J,Q,tt,et,nt,ot,rt,lt,st,it=t[5].numbers.left+"",ct=t[5].numbers.right+"",at=[],ut=new Map;const ft=new te({props:{marbles:t[5].left}}),mt=new te({props:{direction:"right",marbles:t[5].right}});let yt=t[4].marble&&t[4].position&&1===t[4].direction&&-1===t[4].position.y&&$e(t),At=t[4].marble&&t[4].position&&-1===t[4].direction&&-1===t[4].position.y&&we(t),Kt=t[4];const xt=t=>t[37];for(let e=0;e<Kt.length;e+=1){let n=ve(t,Kt,e),o=xt(n);ut.set(o,at[e]=Ee(o,n))}const kt=new te({props:{result:!0,direction:"right",marbles:t[5].results}});function Ct(e){t[31].call(null,e)}let Et={title:"Number of Blue Marbles",number:t[5].numbers.left,infinity:!1,max:"20",$$slots:{default:[Ie]},$$scope:{ctx:t}};void 0!==t[5].edit.left&&(Et.visible=t[5].edit.left);const It=new ae({props:Et});function Tt(e){t[33].call(null,e)}q.push(()=>gt(It,"visible",Ct)),It.$on("update",t[32]);let _t={title:"Number of Red Marbles",number:t[5].numbers.right,infinity:!1,max:"20",$$slots:{default:[Te]},$$scope:{ctx:t}};void 0!==t[5].edit.right&&(_t.visible=t[5].edit.right);const Mt=new ae({props:_t});return q.push(()=>gt(Mt,"visible",Tt)),Mt.$on("update",t[34]),{c(){e=k("div"),n=k("div"),o=k("div"),l=k("div"),s=k("img"),a=C("\n        x "),u=C(it),d=E(),vt(ft.$$.fragment),b=E(),f=k("div"),m=k("div"),h=k("img"),v=C("\n        x "),$=C(ct),w=E(),vt(mt.$$.fragment),x=E(),I=k("div"),_=k("div"),yt&&yt.c(),z=E(),D=k("div"),At&&At.c(),F=E(),S=k("div");for(let t=0;t<at.length;t+=1)at[t].c();j=E(),R=k("div"),O=k("button"),N=C("Trigger Left"),P=E(),H=k("button"),W=C("Trigger Right"),Y=E(),X=k("div"),vt(kt.$$.fragment),V=E(),J=k("button"),Q=C("Reset"),et=E(),vt(It.$$.fragment),ot=E(),vt(Mt.$$.fragment),s.src!==(i=t[7]+"images/marbleblue.svg")&&M(s,"src",i),M(s,"alt",c=t[5].numbers.left+" Blue Marbles"),M(s,"class","svelte-11rckbw"),M(l,"class","marble-numbers svelte-11rckbw"),M(o,"class","container svelte-11rckbw"),h.src!==(p=t[7]+"images/marblered.svg")&&M(h,"src",p),M(h,"alt",g=t[5].numbers.right+" Red Marbles"),M(h,"class","svelte-11rckbw"),M(m,"class","marble-numbers svelte-11rckbw"),M(f,"class","container svelte-11rckbw"),M(n,"id","top-trays"),M(n,"class","svelte-11rckbw"),G(n,"no-challenge",!t[6]),M(_,"class","marble-start svelte-11rckbw"),M(D,"class","marble-start flipped svelte-11rckbw"),M(I,"id","start-ramps"),M(I,"class","svelte-11rckbw"),M(S,"id","board"),O.disabled=L=t[4].marble||t[3]||t[6]&&"right"===t[6].trigger,M(O,"class","svelte-11rckbw"),H.disabled=U=t[4].marble||t[3]||t[6]&&"left"===t[6].trigger,M(H,"class","svelte-11rckbw"),M(R,"id","levers"),M(R,"class","svelte-11rckbw"),J.disabled=tt=!t[4].marble&&!t[5].results.length,M(J,"class","svelte-11rckbw"),M(X,"id","results-tray"),M(X,"class","svelte-11rckbw"),M(e,"id","board-container"),M(e,"class","svelte-11rckbw")},m(i,c,p){A(i,e,c),y(e,n),y(n,o),y(o,l),y(l,s),y(l,a),y(l,u),y(o,d),$t(ft,o,null),y(n,b),y(n,f),y(f,m),y(m,h),y(m,v),y(m,$),y(f,w),$t(mt,f,null),y(e,x),y(e,I),y(I,_),yt&&yt.m(_,null),y(I,z),y(I,D),At&&At.m(D,null),y(e,F),y(e,S);for(let t=0;t<at.length;t+=1)at[t].m(S,null);t[30](S),y(e,j),y(e,R),y(R,O),y(O,N),y(R,P),y(R,H),y(H,W),y(e,Y),y(e,X),$t(kt,X,null),y(X,V),y(X,J),y(J,Q),A(i,et,c),$t(It,i,c),A(i,ot,c),$t(Mt,i,c),lt=!0,p&&r(st),st=[T(l,"click",t[22]),T(m,"click",t[23]),T(O,"click",t[12]),T(H,"click",t[13]),T(J,"click",t[14])]},p(t,e){(!lt||128&e[0]&&s.src!==(i=t[7]+"images/marbleblue.svg"))&&M(s,"src",i),(!lt||32&e[0]&&c!==(c=t[5].numbers.left+" Blue Marbles"))&&M(s,"alt",c),(!lt||32&e[0])&&it!==(it=t[5].numbers.left+"")&&B(u,it);const o={};32&e[0]&&(o.marbles=t[5].left),ft.$set(o),(!lt||128&e[0]&&h.src!==(p=t[7]+"images/marblered.svg"))&&M(h,"src",p),(!lt||32&e[0]&&g!==(g=t[5].numbers.right+" Red Marbles"))&&M(h,"alt",g),(!lt||32&e[0])&&ct!==(ct=t[5].numbers.right+"")&&B($,ct);const r={};if(32&e[0]&&(r.marbles=t[5].right),mt.$set(r),64&e[0]&&G(n,"no-challenge",!t[6]),t[4].marble&&t[4].position&&1===t[4].direction&&-1===t[4].position.y?yt?yt.p(t,e):(yt=$e(t),yt.c(),yt.m(_,null)):yt&&(yt.d(1),yt=null),t[4].marble&&t[4].position&&-1===t[4].direction&&-1===t[4].position.y?At?At.p(t,e):(At=we(t),At.c(),At.m(D,null)):At&&(At.d(1),At=null),3990&e[0]){const n=t[4];at=pt(at,e,xt,1,t,n,ut,S,ht,Ee,null,ve)}(!lt||88&e[0]&&L!==(L=t[4].marble||t[3]||t[6]&&"right"===t[6].trigger))&&(O.disabled=L),(!lt||88&e[0]&&U!==(U=t[4].marble||t[3]||t[6]&&"left"===t[6].trigger))&&(H.disabled=U);const l={};32&e[0]&&(l.marbles=t[5].results),kt.$set(l),(!lt||48&e[0]&&tt!==(tt=!t[4].marble&&!t[5].results.length))&&(J.disabled=tt);const a={};32&e[0]&&(a.number=t[5].numbers.left),128&e[0]|1024&e[1]&&(a.$$scope={dirty:e,ctx:t}),!nt&&32&e[0]&&(nt=!0,a.visible=t[5].edit.left,Z(()=>nt=!1)),It.$set(a);const d={};32&e[0]&&(d.number=t[5].numbers.right),128&e[0]|1024&e[1]&&(d.$$scope={dirty:e,ctx:t}),!rt&&32&e[0]&&(rt=!0,d.visible=t[5].edit.right,Z(()=>rt=!1)),Mt.$set(d)},i(t){lt||(dt(ft.$$.fragment,t),dt(mt.$$.fragment,t),dt(kt.$$.fragment,t),dt(It.$$.fragment,t),dt(Mt.$$.fragment,t),lt=!0)},o(t){bt(ft.$$.fragment,t),bt(mt.$$.fragment,t),bt(kt.$$.fragment,t),bt(It.$$.fragment,t),bt(Mt.$$.fragment,t),lt=!1},d(n){n&&K(e),wt(ft),wt(mt),yt&&yt.d(),At&&At.d();for(let t=0;t<at.length;t+=1)at[t].d();t[30](null),wt(kt),n&&K(et),wt(It,n),n&&K(ot),wt(Mt,n),r(st)}}}function Me(t,e,n){let o,r,l,s,i,c;a(t,pe,t=>n(18,o=t)),a(t,Pt,t=>n(19,r=t)),a(t,Lt,t=>n(4,l=t)),a(t,fe,t=>n(5,s=t)),a(t,Wt,t=>n(6,i=t)),a(t,Ut,t=>n(7,c=t));let{lastGrab:u}=e,{boardElement:d}=e;const b=H();function f(t,e,o){("mousedown"===t.type&&0===t.button||"touchstart"===t.type&&1===t.touches.length)&&!r&&!l.marble&&l[o][e]&&(t.preventDefault(),t.stopPropagation(),"touchstart"===t.type&&b("touch",t),l[o][e].locked?l[o][e].flipsOnMarble&&(l.flip(e,o),Lt.set(l),console.log("Flipped "+l[o][e].name),pe.sendBoard()):(console.log("Grabbed "+l[o][e].name),m(Pt,r=l[o][e]),m(Lt,l[o][e]=!1,l),n(17,u={x:e,y:o,timeout:setTimeout(()=>n(17,u={x:!1,y:!1,timeout:!1}),300)}),pe.sendBoard()))}let h,p=!1,g=!1;function v(t="left"){!l.marble&&s[t].length&&(l.startRun(s[t].pop(),t,async()=>(Lt.set(l),n(2,p=!0),await(J(),X),setTimeout(()=>n(2,p=!1),1),new Promise(t=>{h.addEventListener("animationend",t,{once:!0}),h.addEventListener("oTransitionEnd",t,{once:!0}),h.addEventListener("webkitTransitionEnd",t,{once:!0})}))).then(t=>{t&&(s.results.push(t.marble),Lt.set(l),v(t.side),fe.set(s))}).catch(()=>{0===s.results.length?(fe.reset(),n(3,g=!1)):(m(Lt,l.marble=!1,l),n(3,g=!0))}),fe.set(s))}function $(t,e){return l.marble&&l.position&&t===l.position.x&&e===l.position.y}function w(){fe.reset(),n(3,g=!1),pe.sendBoard()}function y(t){m(fe,s.edit[t]=!i,s),fe.set(s)}function A(t,e){const n=s.numbers[t];m(fe,s.numbers[t]=e,s),fe.set(s),n!=s.numbers[t]&&w()}return t.$set=t=>{"lastGrab"in t&&n(17,u=t.lastGrab),"boardElement"in t&&n(0,d=t.boardElement)},t.$$.update=()=>{262144&t.$$.dirty[0]&&o&&o.on("run",t=>{v(t),console.log("run")})},[d,h,p,g,l,s,i,c,f,$,function(t,e){return $(t,e)&&"gear"!=l.at(t,e).name||l.position&&!$(t,e)&&l.flipableNeighbors(l.position.x,l.position.y).has(l.at(t,e))},function(t,e){return $(t,e)&&Math.floor((l.direction+1)/2)===l.at(t,e).facing},function(){o&&o.emit("run","left"),v("left")},function(){o&&o.emit("run","right"),v("right")},w,y,A,u,o,r,b,v,()=>y("left"),()=>y("right"),function(t){q[t?"unshift":"push"](()=>{n(1,h=t)})},function(t){q[t?"unshift":"push"](()=>{n(1,h=t)})},function(t){q[t?"unshift":"push"](()=>{n(1,h=t)})},function(t){q[t?"unshift":"push"](()=>{n(1,h=t)})},(t,e,n)=>f(n,t,e),(t,e,n)=>f(n,t,e),function(t){q[t?"unshift":"push"](()=>{n(0,d=t)})},function(t){s.edit.left=t,fe.set(s)},t=>A("left",t.detail),function(t){s.edit.right=t,fe.set(s)},t=>A("right",t.detail)]}pe.connect=function(t,e){return!1},pe.disconnect=function(){return!1},pe.sendBoard=function(){return!1};class Be extends At{constructor(t){super(),yt(this,t,Me,_e,s,{lastGrab:17,boardElement:0},[-1,-1])}}function ze(t,e,n){const o=t.slice();return o[14]=e[n],o[15]=e,o[16]=n,o}function De(e){let n;return{c(){n=k("span"),n.textContent="∞",M(n,"class","infinity svelte-hegwk3")},m(t,e){A(t,n,e)},p:t,d(t){t&&K(n)}}}function Ge(t){let e,n=t[14].count+"";return{c(){e=C(n)},m(t,n){A(t,e,n)},p(t,o){1&o&&n!==(n=t[14].count+"")&&B(e,n)},d(t){t&&K(e)}}}function Fe(t){let e,n,o,r;return{c(){e=k("img"),r=E(),M(e,"class","modal-image svelte-hegwk3"),e.src!==(n=t[1]+"images/"+t[14].name+".svg")&&M(e,"src",n),M(e,"alt",o=t[14].name)},m(t,n){A(t,e,n),A(t,r,n)},p(t,r){3&r&&e.src!==(n=t[1]+"images/"+t[14].name+".svg")&&M(e,"src",n),1&r&&o!==(o=t[14].name)&&M(e,"alt",o)},d(t){t&&K(e),t&&K(r)}}}function Se(t){let e,n,o,l,s,i,c,a,u,d,b;function f(t,e){return t[14].count!=1/0?Ge:De}let m=f(t),h=m(t);function p(...e){return t[8](t[14],...e)}function g(...e){return t[9](t[14],...e)}function v(...e){return t[10](t[14],...e)}function $(...e){return t[11](t[14],...e)}function w(e){t[12].call(null,e,t[14])}let x={title:"Number of "+t[14].name+"s",number:t[14].count,$$slots:{default:[Fe]},$$scope:{ctx:t}};void 0!==t[14].editing&&(x.visible=t[14].editing);const I=new ae({props:x});return q.push(()=>gt(I,"visible",w)),I.$on("update",(function(...e){return t[13](t[14],...e)})),{c(){e=k("div"),n=k("img"),s=E(),i=k("span"),c=C("x \n      "),h.c(),a=E(),vt(I.$$.fragment),n.src!==(o=t[1]+"images/"+t[14].name+".svg")&&M(n,"src",o),M(n,"alt",l=t[14].name),M(n,"class","svelte-hegwk3"),M(i,"class","count svelte-hegwk3"),M(e,"class","part svelte-hegwk3"),G(e,"unavailable",!t[14].count)},m(t,o,l){A(t,e,o),y(e,n),y(e,s),y(e,i),y(i,c),h.m(i,null),A(t,a,o),$t(I,t,o),d=!0,l&&r(b),b=[T(e,"mousedown",p),T(e,"touchstart",g),T(e,"mouseup",v),T(e,"touchend",$)]},p(r,s){t=r,(!d||3&s&&n.src!==(o=t[1]+"images/"+t[14].name+".svg"))&&M(n,"src",o),(!d||1&s&&l!==(l=t[14].name))&&M(n,"alt",l),m===(m=f(t))&&h?h.p(t,s):(h.d(1),h=m(t),h&&(h.c(),h.m(i,null))),1&s&&G(e,"unavailable",!t[14].count);const c={};1&s&&(c.title="Number of "+t[14].name+"s"),1&s&&(c.number=t[14].count),131075&s&&(c.$$scope={dirty:s,ctx:t}),!u&&1&s&&(u=!0,c.visible=t[14].editing,Z(()=>u=!1)),I.$set(c)},i(t){d||(dt(I.$$.fragment,t),d=!0)},o(t){bt(I.$$.fragment,t),d=!1},d(t){t&&K(e),h.d(),t&&K(a),wt(I,t),r(b)}}}function je(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Se(ze(t,o,e));const l=t=>bt(r[t],1,1,()=>{r[t]=null});return{c(){e=k("div");for(let t=0;t<r.length;t+=1)r[t].c();M(e,"id","parts-tray"),M(e,"class","svelte-hegwk3")},m(t,o){A(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(31&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const l=ze(t,o,s);r[s]?(r[s].p(l,n),dt(r[s],1)):(r[s]=Se(l),r[s].c(),dt(r[s],1),r[s].m(e,null))}for(at(),s=o.length;s<r.length;s+=1)l(s);ut()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)dt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)bt(r[t]);n=!1},d(t){t&&K(e),x(r,t)}}}function Re(t,e,n){let o,r,l,s;a(t,Pt,t=>n(5,o=t)),a(t,Ot,t=>n(0,r=t)),a(t,Wt,t=>n(6,l=t)),a(t,Ut,t=>n(1,s=t));const i=H();function c(t,e){("mousedown"===t.type&&0===t.button||"touchstart"===t.type&&1===t.touches.length)&&!o&&(t.preventDefault(),t.stopPropagation(),"touchstart"===t.type&&i("touch",t),e.count>0&&(console.log("Grabbed "+e.name),e.count-=1,m(Pt,o=new e)),e.editTimer=setTimeout(()=>e.editTimer=!1,600),Ot.set(r))}function u(t,e){if(e.editTimer&&("mouseup"===t.type&&0===t.button||"touchend"===t.type&&1===t.changedTouches.length&&0===t.touches.length)){if("touchend"===t.type){const n=t.target.getBoundingClientRect(),o=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY;o>n.left+window.scrollX&&o<n.right+window.scrollX&&r>n.top+window.scrollY&&r<n.bottom+window.scrollY&&(e.editing=!l)}else e.editing=!l;clearTimeout(e.editTimer),e.editTimer=!1,Ot.set(r)}}function d(t,e){t.count=e,Ot.set(r)}return[r,s,c,u,d,o,l,i,(t,e)=>c(e,t),(t,e)=>c(e,t),(t,e)=>u(e,t),(t,e)=>u(e,t),function(t,e){e.editing=t,Ot.set(r)},(t,e)=>d(t,e.detail)]}class Oe extends At{constructor(t){super(),yt(this,t,Re,je,s,{})}}function Ne(t){let e,n,o,r;return{c(){e=k("div"),n=k("img"),n.src!==(o=t[2]+"images/"+t[1].name+".svg")&&M(n,"src",o),M(n,"alt",r=t[1].name),M(n,"class","svelte-mtsmwy"),G(n,"flipped",t[1].facing),M(e,"id","hand"),D(e,"top",t[0].top+"px"),D(e,"left",t[0].left+"px"),M(e,"class","svelte-mtsmwy")},m(t,o){A(t,e,o),y(e,n)},p(t,l){6&l&&n.src!==(o=t[2]+"images/"+t[1].name+".svg")&&M(n,"src",o),2&l&&r!==(r=t[1].name)&&M(n,"alt",r),2&l&&G(n,"flipped",t[1].facing),1&l&&D(e,"top",t[0].top+"px"),1&l&&D(e,"left",t[0].left+"px")},d(t){t&&K(e)}}}function Le(e){let n,o=e[1]&&Ne(e);return{c(){o&&o.c(),n=I()},m(t,e){o&&o.m(t,e),A(t,n,e)},p(t,[e]){t[1]?o?o.p(t,e):(o=Ne(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&K(n)}}}function Pe(t,e,n){let o,r;a(t,Pt,t=>n(1,o=t)),a(t,Ut,t=>n(2,r=t));let{mousePosition:l}=e;return t.$set=t=>{"mousePosition"in t&&n(0,l=t.mousePosition)},[l,o,r]}class He extends At{constructor(t){super(),yt(this,t,Pe,Le,s,{mousePosition:0})}}function We(t){let e,n,o,l,s,i,c;function a(e){t[10].call(null,e)}function u(e){t[11].call(null,e)}let d={};void 0!==t[2]&&(d.boardElement=t[2]),void 0!==t[1]&&(d.lastGrab=t[1]);const b=new Be({props:d});q.push(()=>gt(b,"boardElement",a)),q.push(()=>gt(b,"lastGrab",u)),b.$on("touch",t[12]);const f=new Oe({});f.$on("touch",t[13]);const m=new He({props:{mousePosition:t[0]}});return{c(){e=k("div"),vt(b.$$.fragment),l=E(),vt(f.$$.fragment),s=E(),vt(m.$$.fragment),M(e,"id","play-area"),M(e,"class","svelte-y9d9qr"),G(e,"grabbed",t[3])},m(n,o,a){A(n,e,o),$t(b,e,null),y(e,l),$t(f,e,null),A(n,s,o),$t(m,n,o),i=!0,a&&r(c),c=[T(e,"mousemove",t[4]),T(e,"mouseup",t[6]),T(e,"mouseleave",t[14]),T(e,"touchmove",t[5]),T(e,"touchend",t[6])]},p(t,[r]){const l={};!n&&4&r&&(n=!0,l.boardElement=t[2],Z(()=>n=!1)),!o&&2&r&&(o=!0,l.lastGrab=t[1],Z(()=>o=!1)),b.$set(l),8&r&&G(e,"grabbed",t[3]);const s={};1&r&&(s.mousePosition=t[0]),m.$set(s)},i(t){i||(dt(b.$$.fragment,t),dt(f.$$.fragment,t),dt(m.$$.fragment,t),i=!0)},o(t){bt(b.$$.fragment,t),bt(f.$$.fragment,t),bt(m.$$.fragment,t),i=!1},d(t){t&&K(e),wt(b),wt(f),t&&K(s),wt(m,t),r(c)}}}function qe(t,e,n){let o,r,l;a(t,Lt,t=>n(7,o=t)),a(t,Pt,t=>n(3,r=t)),a(t,Ot,t=>n(8,l=t));let s,i={},c={x:!1,y:!1,timeout:!1};function u(t,e){let n=s.getBoundingClientRect(),r=Math.floor((t-(n.left+window.scrollX))/(n.width/o[0].length)),l=Math.floor((e-(n.top+window.scrollY))/(n.height/o.length));return!!(t>n.left+window.scrollX&&t<n.right+window.scrollX&&e>n.top+window.scrollY&&e<n.bottom+window.scrollY&&o.isValid(r,l))&&[r,l]}function d(t){n(0,i.left=t.pageX,i),n(0,i.top=t.pageY,i)}function b(t,e=!1){1===t.touches.length&&(r||e)&&(d(t.touches[0]),t.preventDefault(),t.stopPropagation())}function f(t,e=!1){if(r&&("mouseup"===t.type&&0===t.button||"touchend"===t.type&&1===t.changedTouches.length&&0===t.touches.length||e)){let e;if(e="touchend"===t.type?u(t.changedTouches[0].pageX,t.changedTouches[0].pageY):u(t.pageX,t.pageY),o.marble||!e||r.requiresSlot&&!o.hasSlot(...e)||o[e[1]][e[0]])l.find(t=>t.name===r.name).count++,Ot.set(l),console.log("Dropped "+r.name);else{m(Lt,o[e[1]][e[0]]=r,o),c.x===e[0]&&c.y===e[1]&&(o.flip(...e),console.log("Flipped "+r.name)),console.log("Placed "+r.name);let t=Array.from(o.flipableNeighbors(...e));t.length>1&&t.forEach(e=>e.facing=t[1].facing)}c.timeout&&window.clearTimeout(c.timeout),m(Pt,r=!1),Lt.set(o),pe.sendBoard(),t.preventDefault(),t.stopPropagation()}}return[i,c,s,r,d,b,f,o,l,u,function(t){s=t,n(2,s)},function(t){c=t,n(1,c)},t=>b(t.detail),t=>b(t.detail,!0),t=>f(t,!0)]}class Ue extends At{constructor(t){super(),yt(this,t,qe,We,s,{})}}function Ye(t){let e,n,o,r,l,s;const i=t[5].default,c=u(i,t,t[4],null);return{c(){e=k("div"),n=k("button"),c&&c.c(),o=E(),r=k("textarea"),M(n,"class","svelte-12x1fg9"),M(r,"name","url"),M(r,"class","copy-text svelte-12x1fg9"),M(r,"cols","30"),M(r,"rows","10"),M(e,"class","copy-url")},m(i,a,u){A(i,e,a),y(e,n),c&&c.m(n,null),y(e,o),y(e,r),t[6](r),l=!0,u&&s(),s=T(n,"click",t[1])},p(t,[e]){c&&c.p&&16&e&&c.p(d(i,t,t[4],null),b(i,t[4],e,null))},i(t){l||(dt(c,t),l=!0)},o(t){bt(c,t),l=!1},d(n){n&&K(e),c&&c.d(n),t[6](null),s()}}}function Xe(t,e,n){let{textFunction:o=(()=>"")}=e;const r=H();let l;let{$$slots:s={},$$scope:i}=e;return t.$set=t=>{"textFunction"in t&&n(2,o=t.textFunction),"$$scope"in t&&n(4,i=t.$$scope)},[l,function(){n(0,l.value=o(),l),n(0,l.style.display="inline-block",l),l.select(),l.setSelectionRange(0,99999),document.execCommand("copy"),n(0,l.style.display="",l),r("close")},o,r,i,s,function(t){q[t?"unshift":"push"](()=>{n(0,l=t)})}]}class Ve extends At{constructor(t){super(),yt(this,t,Xe,Ye,s,{textFunction:2})}}var Je=[{id:1,name:"Gravity",code:"-C1GD0FC1GKC1GKC1GKC1GKK_IA0E2A4A6A7A8A",trigger:"left",output:"bbbbbbbb",objective:"Make all of the blue balls (and only the blue balls) reach the end."},{id:2,name:"Re-entry",code:"-C1GD1FE1EF1DG1CH1BKKKKK_II0F2A6A7A4A8A",trigger:"left",output:"bbbbbbbb",objective:"Make all of the blue balls (and only the blue balls) reach the end."},{id:3,name:"Ignition",code:"-C1C0CKKKKKI0AH1BI0AH1BK_II0G2A6A7A4A8A",trigger:"left",output:"rrrrrrrrb",objective:"Release one blue ball and then all of the red balls."},{id:4,name:"Fusion",code:"-C0C1CB0E1BA0G1AKKKKKKKK_II0N2A6A7A4A8A",trigger:"right",output:"bbbbbbbbr",objective:"Release one red ball and then all of the blue balls."},{id:5,name:"Entropy",code:"-C1GD1FE6EF1DG0CF1DG0CF1DG0CF1DK_II0J2A6A7A4A8A",trigger:"left",output:"rbrbrbrbrbrbrbrb",objective:"Make the pattern blue, red, blue, red, blue, red..."},{id:6,name:"Total Internal Reflection",code:"-KD1A0DKD1A0DKD1A0DKD1A0DKD1A0DK_II0C2A6F7A4A8A",trigger:"left",output:"rbrbrbrbrbrbrbrb",objective:"Make the pattern blue, red, blue, red, blue, red..."},{id:7,name:"Path of Least Resistance",code:"-KKC6A6EKA6ID6FKB6HC6GKK_II0G2A6A7A4A8A",trigger:"left",output:"bbbbbbbb",objective:"Create a path for the blue balls to reach the output with only 6 ramps."},{id:8,name:"Depolarization",code:"-C1C0CD1A0DE2EKKKKKKKK_II0O2A6A7A4A8A",trigger:"left",output:"rbrbrbrbrbrbrbrb",objective:"Make the pattern blue, red, blue, red, blue, red..."},{id:9,name:"Dimers",code:"-C2C0CD1A0DE6EKKKKKKKK_KK0S2A6A7A4A8A",trigger:"left",output:"rbbrbbrbbrbbrbb",objective:"Make the pattern blue, blue, red, blue, blue, red..."},{id:10,name:"Double Bond",code:"-C2C3CKE6EKKKKKKKK_II0W2A6A7A4A8A",trigger:"left",output:"rrbbrrbbrrbbrrbbrrbbrrbbrrbbrrbb",objective:"Make the pattern blue, blue, red, red, blue, blue, red, red..."},{id:11,name:"Selectivity",code:"-KKE2EKKKA3A3A3A3A3AKKKK_CA0P2A6A7A4A8A",trigger:"left",objective:"Flip bits 2 and 5 to the right. See the puzzle book for further details."},{id:12,name:"Duality",code:"-C1GD1FE2EKKKG0CF0DE7EKK_II0D2A6A7A4A8A",trigger:"left",objective:"Intercept a blue ball."},{id:13,name:"Duality - Part 2",code:"-C1GD1FE2EF1DG1CH0BG0CF0DE7EKK_I0M2A6A7A4A8A",trigger:"left",objective:"Intercept a red ball."},{id:14,name:"Duality - Part 3",code:"-KKE2EKKKKKE7EKK_II0U2A6A7A4A8A",trigger:"left",objective:"If the machine starts with bit A pointing to the left, intercept a blue ball. Otherwise, intercept a red ball. See the puzzle book for further details."},{id:15,name:"Inversion",code:"-C2C0CD1A0DE7EKKKKKE2EKK_II0L2A6C7A4A8A",trigger:"left",objective:" If bit A starts to the left, intercept a blue ball. If bit A starts to the right, intercept a red ball. See the puzzle book for further details."},{id:16,name:"Termination",code:"-C3GB1HC3GB7HKKKKKKK_II0K2A6A7A4A8A",trigger:"left",output:"bbb",objective:"Let only 3 blue balls reach the bottom and catch the 4th ball in the interceptor."},{id:17,name:"Fixed Ratio",code:"-C3C3CD0A1DC2C3CF7DKKKKKKK_II2A6A7A4A8A",trigger:"left",output:"rrrbbb",objective:"Make the pattern blue, blue, blue, red, red, red."},{id:18,name:"Entanglement",code:"-KKE2EKE2EKC7C7CKKKK_II0H2A6A7A4A8A",trigger:"left",objective:" If the top bit AND the bottom bit start pointed to the right, put a ball in interceptor T. Otherwise put a ball in interceptor F. See the puzzle book for further details."},{id:19,name:"Entanglement",code:"-KKE2EKE2EKKKKKE7E_II2A6C7A4A8A",trigger:"left",objective:"If the top bit AND the bottom bit start pointed to the right, intercept a blue ball. Otherwise, intercept a red ball."},{id:20,name:"Symbiosis",code:"-KKE2EKE2EKKKKKE7E_II2A6C7A4A8A",trigger:"left",objective:"If the top bit OR the bottom bit start pointed to the right, intercept a blue ball. Otherwise, intercept a red ball."},{id:21,name:"Quantum Number",code:"-C3GB1A1FC3GB1A1FC3GB1A1FC3GB1A1FC1GD1FK_II0F2A6A7A4A8A",trigger:"left",objective:" Use register A to count the number of blue balls. (Use 15 or fewer balls.) See the puzzle book for further details. See the puzzle book for further details."},{id:22,name:"Depletion",code:"-C2GB0A0FC2GB0A0FC2GB0A0FC2GB0A0FC0GB0HK_II0E2A6A7A4A8A",trigger:"left",objective:"Register A starts at 15. Subtract the number of blue balls from the register. (Use 15 or fewer balls.) See the puzzle book for further details."},{id:23,name:"Tetrad",code:"-C2GB0A0FA1A2GB0A0FA1A2GB0A7FA1IB0HA1IB0HK_II0A2A6A7A4A8A",trigger:"left",output:"bbbb",objective:"Let exactly 4 blue balls reach the end. (Intercept the 5th.)"},{id:24,name:"Ennead",code:"-C2GKC2GKC2GKC2GKKKK_MM0O2A6A7B4A8A",trigger:"left",output:"bbbbbbbbb",objective:"Let exactly 9 blue balls reach the end. (Intercept the 10th.)"},{id:25,name:"Regular Expression",code:"-KKKKKKKKKKK_II2F6A7B4A8A",trigger:"left",output:"rrrbbbbbbb",objective:"Generate the required pattern."},{id:26,name:"Nucleus",code:"-G2CH7BKKKKKKKKK_KK2C6C7A4A8A",trigger:"left",output:"bbbbrbbbb",objective:"Generate the required pattern."},{id:27,name:"Reflection",code:"-KB2E2BE2EB2HE2EB2HE2EB2HE2EKK_II2B6A7B4A8A",objective:"Reverse the direction of each of the 9 starting bits, regardless of the direction they point to start."},{id:28,name:"Latch",code:"-C1C0CD1A0DE4EKC1C0CD0A1DC1C0CD0A1DC1C0CD0A1DK_II0B2A6A7A4B8B",trigger:"left",output:"bbbbbbbb",objective:"Release only the blue balls."},{id:29,name:"One Shot Switch",code:"-C4GKKKKKKKKKK_II2A6B7A4B8B",trigger:"left",output:"bbbbbbbrb",objective:"Release a blue ball, a red ball, and then the rest of the blue balls."},{id:30,name:"Overflow",code:"-C3GKC3GKC3GB5HKKKKK_UA0O2A6A7A4B8B",trigger:"left",objective:"Count the blue balls in register A. If there are more than 7, gear bit OV must flip right (and stay right) to indicate the overflow. See the puzzle book for further details."}];function Qe(t,e,n){const o=t.slice();return o[20]=e[n],o[22]=n,o}function Ze(t){let e,n,o,l,s,i,c,a,u,d,b,f,m,h,p,g,v,$,w,x=t[3]&&tn(t),I=t[1]&&rn(t);const B=new Ve({props:{textFunction:t[10],$$slots:{default:[sn]},$$scope:{ctx:t}}});return B.$on("close",t[8]),{c(){e=k("div"),o=E(),l=k("div"),s=k("button"),s.textContent="Clear Board",i=E(),x&&x.c(),c=E(),a=k("button"),u=C("Challenges "),d=k("span"),d.textContent=">",b=E(),I&&I.c(),f=E(),vt(B.$$.fragment),m=E(),h=k("a"),p=C("About"),M(e,"id","cover"),M(e,"class","svelte-1sxu4p1"),M(s,"class","svelte-1sxu4p1"),M(d,"class","arrow svelte-1sxu4p1"),G(d,"up",t[1]),M(a,"class","svelte-1sxu4p1"),M(h,"class","btn svelte-1sxu4p1"),M(h,"href",g=t[4]+"about.html"),M(l,"id","menu"),M(l,"class","svelte-1sxu4p1")},m(n,g,v){A(n,e,g),A(n,o,g),A(n,l,g),y(l,s),y(l,i),x&&x.m(l,null),y(l,c),y(l,a),y(a,u),y(a,d),y(l,b),I&&I.m(l,null),y(l,f),$t(B,l,null),y(l,m),y(l,h),y(h,p),$=!0,v&&r(w),w=[T(e,"click",t[8]),T(s,"click",_(t[17])),T(a,"click",t[18]),T(h,"click",_(t[9]))]},p(t,e){t[3]?x?(x.p(t,e),dt(x,1)):(x=tn(t),x.c(),dt(x,1),x.m(l,c)):x&&(at(),bt(x,1,1,()=>{x=null}),ut()),2&e&&G(d,"up",t[1]),t[1]?I?(I.p(t,e),dt(I,1)):(I=rn(t),I.c(),dt(I,1),I.m(l,f)):I&&(at(),bt(I,1,1,()=>{I=null}),ut());const n={};8388608&e&&(n.$$scope={dirty:e,ctx:t}),B.$set(n),(!$||16&e&&g!==(g=t[4]+"about.html"))&&M(h,"href",g)},i(t){$||(Q(()=>{n||(n=mt(e,xt,{},!0)),n.run(1)}),dt(x),dt(I),dt(B.$$.fragment,t),Q(()=>{v||(v=mt(l,kt,{x:-300,duration:600},!0)),v.run(1)}),$=!0)},o(t){n||(n=mt(e,xt,{},!1)),n.run(0),bt(x),bt(I),bt(B.$$.fragment,t),v||(v=mt(l,kt,{x:-300,duration:600},!1)),v.run(0),$=!1},d(t){t&&K(e),t&&n&&n.end(),t&&K(o),t&&K(l),x&&x.d(),I&&I.d(),wt(B),t&&v&&v.end(),r(w)}}}function tn(t){let e,n,o,r;const l=[nn,en],s=[];function i(t,e){return t[2]?1:0}return e=i(t),n=s[e]=l[e](t),{c(){n.c(),o=I()},m(t,n){s[e].m(t,n),A(t,o,n),r=!0},p(t,r){let c=e;e=i(t),e===c?s[e].p(t,r):(at(),bt(s[c],1,1,()=>{s[c]=null}),ut(),n=s[e],n||(n=s[e]=l[e](t),n.c()),dt(n,1),n.m(o.parentNode,o))},i(t){r||(dt(n),r=!0)},o(t){bt(n),r=!1},d(t){s[e].d(t),t&&K(o)}}}function en(t){let e,n,o,r,l;const s=new Ve({props:{textFunction:t[11],$$slots:{default:[on]},$$scope:{ctx:t}}});return s.$on("close",t[8]),{c(){vt(s.$$.fragment),e=E(),n=k("a"),o=C("Leave Shared Room"),M(n,"class","btn svelte-1sxu4p1"),M(n,"href",t[4])},m(i,c,a){$t(s,i,c),A(i,e,c),A(i,n,c),y(n,o),r=!0,a&&l(),l=T(n,"click",_(t[6]))},p(t,e){const o={};8388608&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o),(!r||16&e)&&M(n,"href",t[4])},i(t){r||(dt(s.$$.fragment,t),r=!0)},o(t){bt(s.$$.fragment,t),r=!1},d(t){wt(s,t),t&&K(e),t&&K(n),l()}}}function nn(e){let n,o,r,l;return{c(){n=k("a"),o=C("Start Shared Room"),M(n,"class","btn svelte-1sxu4p1"),M(n,"href",r=e[4]+"room/")},m(t,r,s){A(t,n,r),y(n,o),s&&l(),l=T(n,"click",_(e[5]))},p(t,e){16&e&&r!==(r=t[4]+"room/")&&M(n,"href",r)},i:t,o:t,d(t){t&&K(n),l()}}}function on(t){let e;return{c(){e=C("Copy Room URL To Clipboard")},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function rn(t){let e,n,o,r=[],l=new Map,s=Je;const i=t=>t[22];for(let e=0;e<s.length;e+=1){let n=Qe(t,s,e),o=i(n);l.set(o,r[e]=ln(o,n))}return{c(){e=k("ol");for(let t=0;t<r.length;t+=1)r[t].c();M(e,"id","challenges"),M(e,"class","svelte-1sxu4p1")},m(t,n){A(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null);o=!0},p(t,n){if(144&n){r=pt(r,n,i,1,t,Je,l,e,ht,ln,null,Qe)}},i(t){o||(Q(()=>{n||(n=mt(e,Ct,{},!0)),n.run(1)}),o=!0)},o(t){n||(n=mt(e,Ct,{},!1)),n.run(0),o=!1},d(t){t&&K(e);for(let t=0;t<r.length;t+=1)r[t].d();t&&n&&n.end()}}}function ln(t,e){let n,o,r,l,s,i,c=e[20].name+"";function a(...t){return e[19](e[20],e[22],...t)}return{key:t,first:null,c(){n=k("li"),o=k("a"),r=C(c),l=E(),M(o,"href",s=e[4]+"?code="+e[20].code),M(n,"class","svelte-1sxu4p1"),this.first=n},m(t,e,s){A(t,n,e),y(n,o),y(o,r),y(o,l),s&&i(),i=T(o,"click",_(a))},p(t,n){e=t,16&n&&s!==(s=e[4]+"?code="+e[20].code)&&M(o,"href",s)},d(t){t&&K(n),i()}}}function sn(t){let e;return{c(){e=C("Copy Board URL To Clipboard")},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function cn(t){let e,n,o,r,l,s,i,c,a,u=t[0]&&Ze(t);return{c(){e=k("button"),n=k("span"),n.textContent="Menu",o=E(),r=k("img"),s=E(),u&&u.c(),i=I(),M(n,"class","svelte-1sxu4p1"),r.src!==(l=t[4]+"images/menu.svg")&&M(r,"src",l),M(r,"alt","Menu"),M(r,"class","svelte-1sxu4p1"),M(e,"id","menu-button"),M(e,"class","svelte-1sxu4p1")},m(l,d,b){A(l,e,d),y(e,n),y(e,o),y(e,r),A(l,s,d),u&&u.m(l,d),A(l,i,d),c=!0,b&&a(),a=T(e,"click",t[16])},p(t,[e]){(!c||16&e&&r.src!==(l=t[4]+"images/menu.svg"))&&M(r,"src",l),t[0]?u?(u.p(t,e),dt(u,1)):(u=Ze(t),u.c(),dt(u,1),u.m(i.parentNode,i)):u&&(at(),bt(u,1,1,()=>{u=null}),ut())},i(t){c||(dt(u),c=!0)},o(t){bt(u),c=!1},d(t){t&&K(e),t&&K(s),u&&u.d(t),t&&K(i),a()}}}function an(t,e,n){let o,r,l,s,i;a(t,pe,t=>n(2,o=t)),a(t,Wt,t=>n(12,r=t)),a(t,Ht,t=>n(3,l=t)),a(t,Ut,t=>n(4,s=t)),a(t,qt,t=>n(13,i=t));const c=H(),u=new URLSearchParams(window.location.search);var d;function b(t,e){let n=!1;if(t?(n=t.code,m(Wt,r=t),document.title="Tumble Together - "+r.name,o&&o.emit("challenge",e),c("instructionModal")):(m(Wt,r=!1),document.title="Tumble Together",o&&o.emit("challenge",!1)),he(n),!pe.sendBoard()){let t=s;n&&(t+="?code="+n+"&id="+(e+1)),history.pushState(null,document.title,t),Ut.update()}p()}window.location.pathname.endsWith("room/")||window.location.pathname.endsWith("room")?(window.location.pathname.endsWith("room")&&(history.pushState(null,document.title,window.location.pathname+"/"),Ut.update()),he(),pe.connect(u.get("uuid")),m(Ht,l=!0)):(he(u.get("code")),d=()=>{let t=!!u.has("id")&&u.get("id")-1;t&&t<Je.length&&(m(Wt,r=Je[t]),document.title="Tumble Together - "+r.name,c("instructionModal"))},P().$$.on_mount.push(d));let f=!1,h=!1;function p(){n(0,f=!1)}return t.$$.update=()=>{4100&t.$$.dirty&&o&&o.on("challenge",t=>{t&&t<Je.length?(m(Wt,r=Je[t]),document.title="Tumble Together - "+r.name,c("instructionModal")):(m(Wt,r=!1),document.title="Tumble Together")})},[f,h,o,l,s,function(){o||pe.connect(!1,me()),window.location.pathname.endsWith("room/")||history.pushState(null,document.title,s+"room/"),p(),Ut.update()},function(){o&&pe.disconnect(),history.pushState(null,document.title,s),m(qt,i="Left shared room."),p(),Ut.update()},b,p,function(){c("aboutModal"),p()},function(){let t=me(),e=window.location.pathname;e.endsWith("room/")&&(e=e.slice(0,-"room/".length)),e.endsWith("about/")&&(e=e.slice(0,-"about/".length)),e.endsWith("room")&&(e=e.slice(0,-"room".length)),e.endsWith("about")&&(e=e.slice(0,-"about".length));let n=r?"&id="+r.id:"";return m(qt,i="Board URL copied to clipboard."),`${window.location.origin}${e}?code=${t}${n}`},function(){return m(qt,i="Room URL copied to clipboard."),window.location.origin+window.location.pathname+window.location.search},r,i,c,u,()=>n(0,f=!f),()=>b(),()=>n(1,h=!h),(t,e)=>b(t,e)]}class un extends At{constructor(t){super(),yt(this,t,an,cn,s,{})}}function dn(t){let e;return{c(){e=k("article"),e.innerHTML='<p class="svelte-3mg6xs">Tumble Together is a web-based emulator for the <a href="https://www.turingtumble.com/" target="_blank">Turing Tumble</a> marble-powered mechanical computer to help build, test and share designs. Tumble Together allows users to quickly share challenges and solutions, and is a useful companion for using the Turing Tumble to teach kids about computer science.</p> \n      <p class="svelte-3mg6xs">The full source code, including instructions on how to run it can be found <a href="https://github.com/ASquirrelsTail/tumble-together" target="_blank">here on GitHub</a>. The client side app built with <a href="https://svelte.dev/" target="_blank">Svelte.js</a> can be run independently to create and share designs. An optional server side implementation allows a group of users to collaborate in real time on a shared Turing Tumble board remotely, using <a href="https://expressjs.com/" target="_blank">Express.js</a> and <a href="https://socket.io/" target="_blank">Socket.IO</a> on a Node.js server.</p> \n      <p class="svelte-3mg6xs">Tumble Together was built by Richard Twilton, in order to help his nephew learn with his Turing Tumble remotely during the Covid-19 Pandemic.</p>'},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function bn(t){let e,n;function o(e){t[7].call(null,e)}let r={title:"About Tumble Together",$$slots:{default:[dn]},$$scope:{ctx:t}};void 0!==t[0]&&(r.visible=t[0]);const l=new re({props:r});return q.push(()=>gt(l,"visible",o)),l.$on("close",t[1]),{c(){vt(l.$$.fragment)},m(t,e){$t(l,t,e),n=!0},p(t,[n]){const o={};256&n&&(o.$$scope={dirty:n,ctx:t}),!e&&1&n&&(e=!0,o.visible=t[0],Z(()=>e=!1)),l.$set(o)},i(t){n||(dt(l.$$.fragment,t),n=!0)},o(t){bt(l.$$.fragment,t),n=!1},d(t){wt(l,t)}}}const fn="about";function mn(t,e,n){let o;a(t,Ut,t=>n(5,o=t));let{visible:r=!1}=e,l=window.location.pathname,s=window.location.search,i=document.title;function c(){l=window.location.pathname,s=window.location.search,i=document.title,(l.endsWith(fn)||l.endsWith(fn+"/"))&&(l=o);let t=o+fn+"/";document.title="Tumble Together - About",history.pushState(null,document.title,t),Ut.update()}return(window.location.pathname.endsWith(fn)||window.location.pathname.endsWith(fn+"/"))&&(r=!0),t.$set=t=>{"visible"in t&&n(0,r=t.visible)},t.$$.update=()=>{1&t.$$.dirty&&r&&c()},[r,function(){document.title=i,history.pushState(null,i,l+s),Ut.update()},l,s,i,o,c,function(t){r=t,n(0,r)}]}class hn extends At{constructor(t){super(),yt(this,t,mn,bn,s,{visible:0})}}function pn(t,e,n){const o=t.slice();return o[9]=e[n],o}function gn(t){let e,n,o,r,l,s,i,c,a,u,d,b,f,m=t[2].objective+"",h=t[2].output&&vn(t);function p(t,e){return t[2].trigger?yn:wn}let g=p(t),v=g(t);return{c(){e=k("h3"),e.textContent="Objective:",n=E(),o=k("p"),r=C(m),l=E(),h&&h.c(),s=E(),i=k("h3"),i.textContent="Instructions",c=E(),a=k("p"),u=C("Use the available parts to complete the challenge. Greyed-out parts cannot be moved, but greyed-out Bits and Gear Bits can be flipped by clicking/tapping on them. Press the "),v.c(),d=C(" trigger to start the marbles rolling. Press the "),b=k("span"),b.textContent="Reset",f=C(" button to put the marbles back and try again."),M(e,"class","svelte-hzv79y"),M(o,"class","svelte-hzv79y"),M(i,"class","svelte-hzv79y"),M(b,"class","orbitron svelte-hzv79y"),M(a,"class","svelte-hzv79y")},m(t,m){A(t,e,m),A(t,n,m),A(t,o,m),y(o,r),A(t,l,m),h&&h.m(t,m),A(t,s,m),A(t,i,m),A(t,c,m),A(t,a,m),y(a,u),v.m(a,null),y(a,d),y(a,b),y(a,f)},p(t,e){4&e&&m!==(m=t[2].objective+"")&&B(r,m),t[2].output?h?h.p(t,e):(h=vn(t),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),g===(g=p(t))&&v?v.p(t,e):(v.d(1),v=g(t),v&&(v.c(),v.m(a,d)))},d(t){t&&K(e),t&&K(n),t&&K(o),t&&K(l),h&&h.d(t),t&&K(s),t&&K(i),t&&K(c),t&&K(a),v.d()}}}function vn(t){let e,n,o,r=t[2].output,l=[];for(let e=0;e<r.length;e+=1)l[e]=$n(pn(t,r,e));return{c(){e=k("h3"),e.textContent="Required Output:",n=E(),o=k("p");for(let t=0;t<l.length;t+=1)l[t].c();M(e,"class","svelte-hzv79y"),M(o,"class","svelte-hzv79y")},m(t,r){A(t,e,r),A(t,n,r),A(t,o,r);for(let t=0;t<l.length;t+=1)l[t].m(o,null)},p(t,e){if(12&e){let n;for(r=t[2].output,n=0;n<r.length;n+=1){const s=pn(t,r,n);l[n]?l[n].p(s,e):(l[n]=$n(s),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}},d(t){t&&K(e),t&&K(n),t&&K(o),x(l,t)}}}function $n(t){let e,n;return{c(){e=k("img"),e.src!==(n=t[3]+"images/marble"+("b"===t[9]?"blue":"red")+".svg")&&M(e,"src",n),M(e,"alt","Marble")},m(t,n){A(t,e,n)},p(t,o){12&o&&e.src!==(n=t[3]+"images/marble"+("b"===t[9]?"blue":"red")+".svg")&&M(e,"src",n)},d(t){t&&K(e)}}}function wn(e){let n;return{c(){n=C("either")},m(t,e){A(t,n,e)},p:t,d(t){t&&K(n)}}}function yn(t){let e,n=t[2].trigger+"";return{c(){e=C(n)},m(t,n){A(t,e,n)},p(t,o){4&o&&n!==(n=t[2].trigger+"")&&B(e,n)},d(t){t&&K(e)}}}function An(t){let e;return{c(){e=C("You can set the number of available parts in the box by clicking or tapping the corresponding part.")},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function Kn(t){let e;return{c(){e=k("p"),e.innerHTML='To start the marbles rolling press the trigger on the side you would like to start with. To put the marbles back to the start, or end the run early, press the <span class="orbitron svelte-hzv79y">Reset</span> button in the bottom right. You can change the number of marbles by clicking/tapping the marbles at the top of the board.',M(e,"class","svelte-hzv79y")},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function xn(t){let e,n,o,r,l,s,i;return{c(){e=k("p"),n=C("To work together with friends you can start a shared room from the "),o=k("span"),r=C("Menu "),l=k("img"),i=C(" and send the link to others to work on he same board, tackle challenges together and share changes in real time. Use the menu to leave a shared room as well."),l.src!==(s=t[3]+"images/menu.svg")&&M(l,"src",s),M(l,"alt","Menu"),M(l,"class","svelte-hzv79y"),M(o,"class","orbitron svelte-hzv79y"),M(e,"class","svelte-hzv79y")},m(t,s){A(t,e,s),y(e,n),y(e,o),y(o,r),y(o,l),y(e,i)},p(t,e){8&e&&l.src!==(s=t[3]+"images/menu.svg")&&M(l,"src",s)},d(t){t&&K(e)}}}function kn(t){let e,n,o,r,l,s,i,c,a,u,d,b,f,m,h,p,g,v,$,w,x,I,B,z,D,G=t[2]&&gn(t),F=!t[2]&&An(),S=!t[2]&&Kn(),j=t[4]&&xn(t);return{c(){e=k("article"),G&&G.c(),n=E(),o=k("p"),r=C("New parts can be dragged from the box and placed on the board. Most parts require a slot (or smile) to fit on the board, only the Red Gears can be placed on pegs without a slot. To flip a part simply tap/click on it once. To remove a part from drag it off the board.\n    "),F&&F.c(),l=E(),S&&S.c(),s=E(),i=k("p"),c=C("A collection of ready made challenges can be found in the "),a=k("span"),u=C("Menu "),d=k("img"),f=C(" in the top right, as well as buttons to clear the board and copy the current board to a URL you can share with others."),m=E(),j&&j.c(),h=E(),p=k("p"),p.innerHTML='You can return to these instructions at any time by clicking the <span class="orbitron svelte-hzv79y">Instructions ?</span> button in the top right',g=E(),v=k("p"),$=C("More information about Tumble Together and the "),w=k("a"),w.textContent="Turing Tumble",x=C(" can be found on "),I=k("a"),B=C("the about page."),M(o,"class","svelte-hzv79y"),d.src!==(b=t[3]+"images/menu.svg")&&M(d,"src",b),M(d,"alt","Menu"),M(d,"class","svelte-hzv79y"),M(a,"class","orbitron svelte-hzv79y"),M(i,"class","svelte-hzv79y"),M(p,"class","svelte-hzv79y"),M(w,"href","https://www.turingtumble.com/"),M(w,"target","_blank"),M(I,"href",z=t[3]+"about/"),M(v,"class","svelte-hzv79y")},m(b,K,k){A(b,e,K),G&&G.m(e,null),y(e,n),y(e,o),y(o,r),F&&F.m(o,null),y(e,l),S&&S.m(e,null),y(e,s),y(e,i),y(i,c),y(i,a),y(a,u),y(a,d),y(i,f),y(e,m),j&&j.m(e,null),y(e,h),y(e,p),y(e,g),y(e,v),y(v,$),y(v,w),y(v,x),y(v,I),y(I,B),k&&D(),D=T(I,"click",_(t[5]))},p(t,r){t[2]?G?G.p(t,r):(G=gn(t),G.c(),G.m(e,n)):G&&(G.d(1),G=null),t[2]?F&&(F.d(1),F=null):F||(F=An(),F.c(),F.m(o,null)),t[2]?S&&(S.d(1),S=null):S||(S=Kn(),S.c(),S.m(e,s)),8&r&&d.src!==(b=t[3]+"images/menu.svg")&&M(d,"src",b),t[4]?j?j.p(t,r):(j=xn(t),j.c(),j.m(e,h)):j&&(j.d(1),j=null),8&r&&z!==(z=t[3]+"about/")&&M(I,"href",z)},d(t){t&&K(e),G&&G.d(),F&&F.d(),S&&S.d(),j&&j.d(),D()}}}function Cn(t){let e,n;function o(e){t[8].call(null,e)}let r={title:t[1],$$slots:{default:[kn]},$$scope:{ctx:t}};void 0!==t[0]&&(r.visible=t[0]);const l=new re({props:r});return q.push(()=>gt(l,"visible",o)),{c(){vt(l.$$.fragment)},m(t,e){$t(l,t,e),n=!0},p(t,[n]){const o={};2&n&&(o.title=t[1]),4124&n&&(o.$$scope={dirty:n,ctx:t}),!e&&1&n&&(e=!0,o.visible=t[0],Z(()=>e=!1)),l.$set(o)},i(t){n||(dt(l.$$.fragment,t),n=!0)},o(t){bt(l.$$.fragment,t),n=!1},d(t){wt(l,t)}}}function En(t,e,n){let o,r,l;a(t,Wt,t=>n(2,o=t)),a(t,Ut,t=>n(3,r=t)),a(t,Ht,t=>n(4,l=t));let s,{visible:i=!1}=e,c="Instructions";const u=H();return t.$set=t=>{"visible"in t&&n(0,i=t.visible)},t.$$.update=()=>{4&t.$$.dirty&&n(6,s="Instructions - Challenge #"+o.id+": "+o.name),68&t.$$.dirty&&n(1,c=o?s:"Instructions")},[i,c,o,r,l,function(){n(0,i=!1),u("aboutModal")},s,u,function(t){i=t,n(0,i)}]}class In extends At{constructor(t){super(),yt(this,t,En,Cn,s,{visible:0})}}function Tn(t){let e,n,o,r,l,s;return{c(){e=k("div"),n=k("div"),o=C(t[0]),M(n,"class","toast svelte-gjamjp"),M(e,"class","toast-container svelte-gjamjp")},m(r,i,c){A(r,e,i),y(e,n),y(n,o),l=!0,c&&s(),s=T(n,"click",t[1])},p(t,e){(!l||1&e)&&B(o,t[0])},i(t){l||(Q(()=>{r||(r=mt(e,kt,{x:300,duration:400},!0)),r.run(1)}),l=!0)},o(t){r||(r=mt(e,kt,{x:300,duration:400},!1)),r.run(0),l=!1},d(t){t&&K(e),t&&r&&r.end(),s()}}}function _n(t){let e,n,o=t[0]&&Tn(t);return{c(){o&&o.c(),e=I()},m(t,r){o&&o.m(t,r),A(t,e,r),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),dt(o,1)):(o=Tn(t),o.c(),dt(o,1),o.m(e.parentNode,e)):o&&(at(),bt(o,1,1,()=>{o=null}),ut())},i(t){n||(dt(o),n=!0)},o(t){bt(o),n=!1},d(t){o&&o.d(t),t&&K(e)}}}function Mn(t,e,n){let o,r;return a(t,qt,t=>n(0,o=t)),t.$$.update=()=>{1&t.$$.dirty&&o&&(r=setTimeout(()=>m(qt,o=!1),4e3))},[o,function(){m(qt,o=!1),clearTimeout(r)}]}class Bn extends At{constructor(t){super(),yt(this,t,Mn,_n,s,{})}}function zn(t){let e;return{c(){e=k("span"),e.textContent="- Sharing",M(e,"class","svelte-11f04ni")},m(t,n){A(t,e,n)},d(t){t&&K(e)}}}function Dn(t){let e,n,o,r,l,s,i,c,a,u,d,b,f,m,h,p=t[2]&&zn();const g=new un({});g.$on("aboutModal",t[4]),g.$on("instructionModal",t[5]);const v=new Ue({});function $(e){t[6].call(null,e)}let w={};void 0!==t[0]&&(w.visible=t[0]);const x=new hn({props:w});function I(e){t[7].call(null,e)}q.push(()=>gt(x,"visible",$));let _={};void 0!==t[1]&&(_.visible=t[1]);const B=new In({props:_});q.push(()=>gt(B,"visible",I)),B.$on("aboutModal",t[8]);const z=new Bn({});return{c(){e=k("nav"),n=k("h1"),o=C("Tumble Together! "),p&&p.c(),r=E(),l=k("div"),s=k("button"),s.innerHTML='<span class="title svelte-11f04ni">Instructions </span> \n      <span class="question svelte-11f04ni">?</span>',i=E(),vt(g.$$.fragment),c=E(),vt(v.$$.fragment),a=E(),vt(x.$$.fragment),d=E(),vt(B.$$.fragment),f=E(),vt(z.$$.fragment),M(n,"class","svelte-11f04ni"),M(s,"id","instructions-button"),M(s,"class","svelte-11f04ni"),M(e,"class","svelte-11f04ni")},m(u,b,$){A(u,e,b),y(e,n),y(n,o),p&&p.m(n,null),y(e,r),y(e,l),y(l,s),y(l,i),$t(g,l,null),A(u,c,b),$t(v,u,b),A(u,a,b),$t(x,u,b),A(u,d,b),$t(B,u,b),A(u,f,b),$t(z,u,b),m=!0,$&&h(),h=T(s,"click",t[3])},p(t,[e]){t[2]?p||(p=zn(),p.c(),p.m(n,null)):p&&(p.d(1),p=null);const o={};!u&&1&e&&(u=!0,o.visible=t[0],Z(()=>u=!1)),x.$set(o);const r={};!b&&2&e&&(b=!0,r.visible=t[1],Z(()=>b=!1)),B.$set(r)},i(t){m||(dt(g.$$.fragment,t),dt(v.$$.fragment,t),dt(x.$$.fragment,t),dt(B.$$.fragment,t),dt(z.$$.fragment,t),m=!0)},o(t){bt(g.$$.fragment,t),bt(v.$$.fragment,t),bt(x.$$.fragment,t),bt(B.$$.fragment,t),bt(z.$$.fragment,t),m=!1},d(t){t&&K(e),p&&p.d(),wt(g),t&&K(c),wt(v,t),t&&K(a),wt(x,t),t&&K(d),wt(B,t),t&&K(f),wt(z,t),h()}}}function Gn(t,e,n){let o;a(t,pe,t=>n(2,o=t));let r=!1,l=!1;return[r,l,o,()=>n(1,l=!0),()=>n(0,r=!0),()=>n(1,l=!0),function(t){r=t,n(0,r)},function(t){l=t,n(1,l)},()=>n(0,r=!0)]}return new class extends At{constructor(t){super(),yt(this,t,Gn,Dn,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
